
CONTAINER_REGISTRY_PREFIX?=
CONTAINER_REGISTRY_NAMESPACE?=jgwest
CONTAINER_IMAGE?=kouplet-builder-util
CONTAINER_IMAGE_LABEL?=latest

.PHONY: build-image
build-image:
	docker build -t ${CONTAINER_IMAGE} .
	docker tag ${CONTAINER_IMAGE} ${CONTAINER_REGISTRY_PREFIX}${CONTAINER_REGISTRY_NAMESPACE}/${CONTAINER_IMAGE}:${CONTAINER_IMAGE_LABEL}

.PHONY: build-image-push
build-image-push: build-image
	docker push ${CONTAINER_REGISTRY_PREFIX}${CONTAINER_REGISTRY_NAMESPACE}/${CONTAINER_IMAGE}:${CONTAINER_IMAGE_LABEL}


